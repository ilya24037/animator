import{e as l,o as s,f as t,j as p,x as B,b as m,c as _,l as y,p as w,N as C,F as M,v as V,t as x,U as k,X as N,g as A,q as h,P as $,J as L,u as g,S as z,G as D,D as j}from"./app-CUPAU-6W.js";import{u as S}from"./useLocationStore-Dkqm6fcb.js";import{s as F}from"./index-BctFJj0Y.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={href:"/favorites",class:"relative flex flex-col items-center"},U={class:"relative"},Z={key:0,class:"absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 bg-[#f1177e] text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full"},R={key:0,class:"text-xs mt-1 hidden lg:inline"},q={href:"/compare",class:"relative flex flex-col items-center"},E={class:"relative"},G={key:0,class:"absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 bg-[#f1177e] text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full"},J={key:0,class:"text-xs mt-1 hidden lg:inline"},O={__name:"FavoriteBlock",props:{compact:{type:Boolean,default:!1}},setup(a){return(r,o)=>(s(),l("div",{class:B(a.compact?"flex flex-col items-center gap-2 text-[#1f1f1f] hover:text-[#006aff]":"flex items-center gap-6 group text-[#1f1f1f] hover:text-[#006aff]")},[t("a",T,[t("div",U,[o[0]||(o[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 24 24"},[t("path",{d:"m10.65 20.3-1.725-1.575a68.212 68.212 0 0 1-4.787-4.813C2.713 12.321 2 10.567 2 8.65c0-1.567.525-2.875 1.575-3.925C4.625 3.675 5.933 3.15 7.5 3.15c.883 0 1.717.187 2.5.562a5.96 5.96 0 0 1 2 1.538 5.962 5.962 0 0 1 2-1.538 5.721 5.721 0 0 1 2.5-.562c1.567 0 2.875.525 3.925 1.575C21.475 5.775 22 7.083 22 8.65c0 1.917-.708 3.675-2.125 5.275a59.847 59.847 0 0 1-4.825 4.825l-1.7 1.55a1.89 1.89 0 0 1-1.35.55 1.89 1.89 0 0 1-1.35-.55Z"})],-1)),a.compact?p("",!0):(s(),l("span",Z,"2"))]),a.compact?p("",!0):(s(),l("span",R,"Избранное"))]),t("a",q,[t("div",E,[o[1]||(o[1]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 24 24"},[t("path",{"fill-rule":"evenodd",d:"M6 8.69a1 1 0 0 0-1 1v10.2a1 1 0 1 0 2 0V9.68a1 1 0 0 0-1-1Zm13 11.2v-5.34a1 1 0 0 0-1.77-.63.99.99 0 0 0-.23.63v5.33a1 1 0 0 0 1 1 1 1 0 0 0 1-1Zm-6 0a1 1 0 1 1-2 0V4.11a1 1 0 1 1 2 0v15.76Z","clip-rule":"evenodd"})],-1)),a.compact?p("",!0):(s(),l("span",G,"3"))]),a.compact?p("",!0):(s(),l("span",J,"Сравнение"))])],2))}},P={class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},Q={class:"bg-white rounded-xl shadow-lg w-full max-w-md p-6"},X={class:"flex items-center justify-between mb-4"},Y={class:"space-y-2 max-h-[200px] overflow-y-auto"},H=["onClick"],K={__name:"CitySelectorModal",emits:["close","select"],setup(a,{emit:r}){const o=r,c=S(),d=m(""),f=m(localStorage.getItem("selectedCity")||""),v=["Москва","Санкт-Петербург","Казань","Екатеринбург","Новосибирск","Краснодар","Нижний Новгород","Ростов-на-Дону","Челябинск","Пермь","Самара"],b=_(()=>v.filter(e=>e.toLowerCase().includes(d.value.toLowerCase()))),n=e=>{localStorage.setItem("selectedCity",e),f.value=e,c.setCity(e),o("select",e),k.get("/",{city:e},{preserveScroll:!0,preserveState:!0})};return y(()=>{f.value||fetch("https://ipapi.co/json").then(e=>e.json()).then(e=>{e.city&&(f.value=e.city,c.setCity(e.city),localStorage.setItem("selectedCity",e.city),o("select",e.city))})}),(e,i)=>(s(),l("div",P,[t("div",Q,[t("div",X,[i[2]||(i[2]=t("h2",{class:"text-lg font-semibold"},"Выберите город",-1)),t("button",{onClick:i[0]||(i[0]=u=>e.$emit("close")),class:"text-gray-400 hover:text-black"},"✕")]),w(t("input",{"onUpdate:modelValue":i[1]||(i[1]=u=>d.value=u),type:"text",placeholder:"Начните вводить город...",class:"w-full border px-4 py-2 rounded-md mb-4 text-sm outline-none"},null,512),[[C,d.value]]),t("ul",Y,[(s(!0),l(M,null,V(b.value,u=>(s(),l("li",{key:u,onClick:he=>n(u),class:"cursor-pointer px-4 py-2 rounded hover:bg-blue-50 text-sm"},x(u),9,H))),128))])])]))}},W={class:"sticky top-0 z-50 bg-white shadow rounded-b-2xl"},ee={class:"flex items-center justify-between py-5 px-6"},te={class:"font-medium"},se={class:"flex items-center space-x-6 ml-6"},oe={key:0,href:"/dashboard",class:"flex items-center gap-2 px-2 h-10 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition"},le={class:"bg-pink-500 text-white font-bold w-7 h-7 flex items-center justify-center rounded-full text-base"},ne={class:"font-semibold text-base"},ae={key:1,href:"/login",class:"px-4 py-2 rounded-lg border text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white transition"},re={__name:"Navbar",setup(a){const r=_(()=>{var n;return(n=N().props.auth)==null?void 0:n.user}),o=m(!1),c=S(),d=m(""),f=n=>{c.setCity(n),o.value=!1},v=()=>{alert("Поиск: "+d.value)},b=()=>{k.get(F("animators.create"))};return y(()=>{(!c.city||c.city==="Ваш город")&&fetch("https://ipapi.co/json").then(n=>n.json()).then(n=>{n.city&&c.setCity(n.city)})}),(n,e)=>(s(),l("header",W,[t("div",ee,[h(g(z),{href:"/",class:"text-2xl font-black tracking-tight"},{default:$(()=>e[3]||(e[3]=[L(" ANIMATORR ")])),_:1}),t("button",{class:"ml-6 flex items-center gap-2 text-base px-4 py-2 rounded-lg hover:bg-gray-100 transition",onClick:e[0]||(e[0]=i=>o.value=!0)},[t("span",te,x(g(c).city||"Ваш город"),1),e[4]||(e[4]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),t("form",{onSubmit:D(v,["prevent"]),class:"flex items-center h-[38px] px-[2px] bg-[#006aff] rounded-[12px] w-full max-w-[500px]"},[w(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>d.value=i),type:"text",placeholder:"Поиск",class:"flex-grow h-[34px] px-4 bg-white text-sm text-gray-800 rounded-[10px] outline-none border-none min-w-[200px]",autocomplete:"off",spellcheck:"false",maxlength:"255"},null,512),[[C,d.value]]),e[5]||(e[5]=t("button",{type:"submit",class:"ml-2 h-[36px] px-5 text-white text-sm font-semibold rounded-[10px] bg-[#006aff] hover:bg-[#0051cc] transition"}," Найти ",-1))],32),t("div",se,[h(O),r.value?(s(),l("a",oe,[t("span",le,x(r.value.name?r.value.name.charAt(0).toUpperCase():"Л"),1),t("span",ne,x(r.value.name),1)])):(s(),l("a",ae," Войти ")),t("button",{class:"bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg px-5 py-2 ml-2 w-[230px] h-[38px] flex items-center justify-center",onClick:b}," Разместить объявление ")])]),o.value?(s(),A(K,{key:0,onClose:e[2]||(e[2]=i=>o.value=!1),onSelect:f})):p("",!0)]))}},ie={},ce={class:"max-w-[1230px] min-w-[1000px] mx-auto px-6 w-full"};function de(a,r){return s(),l("div",ce,[j(a.$slots,"default")])}const ue=I(ie,[["render",de]]),fe={class:"min-h-screen flex flex-col bg-[#f5f7fa] text-gray-800"},pe={class:"sticky top-0 z-50 bg-white shadow rounded-b-2xl"},xe={class:"pt-6 pb-8"},me={class:"bg-gray-200 py-6 text-sm text-gray-600 text-center rounded-t-xl mt-12"},ye={__name:"AppLayout",setup(a){return(r,o)=>(s(),l("div",fe,[h(ue,null,{default:$(()=>[t("div",pe,[h(re)]),t("main",xe,[j(r.$slots,"default")]),t("footer",me," © "+x(new Date().getFullYear())+" Animatorr — Все права защищены ",1)]),_:3})]))}};export{ye as _};
